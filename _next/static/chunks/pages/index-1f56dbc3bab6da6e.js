(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{48312:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(7983)}])},7983:function(e,n,t){"use strict";t.r(n),t.d(n,{__N_SSG:function(){return ep},default:function(){return ef}});var a=t(47568),r=t(10253),o=t(59637),i=t(70655),c=t(85893),s=t(93889),l=t(1051),d=Object.fromEntries;function u(e,n){var t=(0,r.Z)(e.reduce(function(t,a,o){var i=(0,r.Z)(t,2),c=i[0],s=i[1],l=o-n;return isNaN(e[o])||(s+=e[o]),l>=0&&!isNaN(e[l])?(s-=e[l],c.push(s/n)):c.push(NaN),[c,s]},[[],0]),2),a=t[0];return t[1],a}function h(e,n){if(e.$isSeries)return new s.Series(u(e.values,n),{index:e.index});var t=d(e.columns.map(function(t){return[t,u(e[t].values,n)]}));return new s.DataFrame(t,{index:e.index})}function m(e,n){var t=n.start,a=n.end;return e.$isSeries?e.loc(e.index.map(function(e){return(void 0===t||t<=e)&&(void 0===a||e<a)})):e.loc({rows:e.index.map(function(e){return(void 0===t||t<=e)&&(void 0===a||e<a)})})}var p=t(30381),f=t.n(p),v=t(96486),b=t.n(v),g=t(67294),x=t(95408),_=t.n(x),y=t(57639),k=t.n(y),w=t(51438),j=t(88029),N=t(16567),C=function(e){(0,j.Z)(t,e);var n=(0,N.Z)(t);function t(){return(0,w.Z)(this,t),n.apply(this,arguments)}return t.prototype.render=function(){var e=this.props,n=e.id,t=e.className,a=void 0===t?k().checkbox:t,r=e.label,o=e.checked,i=e.nowrap,s=e.cb;return(0,c.jsx)("div",{id:n,className:"".concat(k().subControl," ").concat(a||""),children:(0,c.jsxs)("label",{className:void 0===i||i?k().nowrap:"",children:[(0,c.jsx)("input",{type:"checkbox",checked:o,onChange:function(e){return s(e.target.checked)}}),r]})})},t}(g.Component),M=t(41799),D=Object.fromEntries;function R(e){var n=e.label,t=e.data,a=e.cb,r=e.nowrap,o=void 0===r||r,i=e.children,s=function(e){var n=e.target.value,t=e.target.checked,r=l[n],o=r.checked,i=r.data;if(o==t)console.warn("Checkbox",n,"already has value",t);else{var c=(0,M.Z)({},l);c[n]={data:i,checked:t};var s=Object.keys(c).filter(function(e){return c[e].checked}).map(function(e){return c[e].data});a(s)}},l=D(t.map(function(e){var n,t=e.name;return[t,{data:e.data,checked:e.checked||!1}]})),d=t.map(function(e){var n=e.name,t=e.disabled,a=l[n].checked;return(0,c.jsxs)("label",{className:o?k().nowrap:"",children:[(0,c.jsx)("input",{type:"checkbox",name:n,value:n,checked:a,disabled:t,onChange:function(){}}),n]},n)});return(0,c.jsxs)("div",{className:k().control,children:[(0,c.jsx)("div",{className:k().controlHeader,children:n}),(0,c.jsx)("div",{onChange:s,className:"".concat(k().subControl),children:d}),i]})}var A=f()("2013-06-01").toDate(),T=function(e){return e?f()(e).format("YYMM"):""},U=function(e){var n="20".concat(e.substring(0,2)),t=e.substring(2,4);return f()("".concat(n,"-").concat(t,"-01")).toDate()},E=function(e,n){if(n=n||new Date,"All"==e)return{start:A,end:n};if("string"==typeof e){var t,a=new Date(n);if("y"!=e[e.length-1])throw Error("Unrecognized date range string: ".concat(e));var r=parseInt(e.substr(0,e.length-1));return a.setFullYear(a.getFullYear()-r),console.log("subtracted ".concat(r," years: ").concat(a,", ").concat(n)),{start:a,end:n}}return{start:e.start||A,end:e.end||n}},F=t(8974);function Z(e){var n=e.label,t=e.options,a=e.choice,r=e.cb,o=e.nowrap,i=void 0===o||o,s=e.children,l=t.map(function(e){var t="string"==typeof e?{label:e,data:e,disabled:!1}:e,r=t.label,o=t.data,s=t.disabled;return(0,c.jsxs)("label",{className:i?k().nowrap:"",children:[(0,c.jsx)("input",{type:"radio",name:n+"-"+o,value:o,checked:o==a,disabled:s,onChange:function(e){}}),r]},o)});return(0,c.jsxs)("div",{className:k().control,children:[(0,c.jsx)("div",{className:k().controlHeader,children:n}),(0,c.jsx)("div",{id:n,className:k().subControl,onChange:function(e){return r(e.target.value)},children:l}),s]})}var G=t(8158),S=t(79340),W=t(48765),B=["JC","HOB","NYC",],H=[["HOB","h"],["NYC","n"],["JC","j"],],I=["Annual","Daily"],Y=[["Annual","a"],["Daily","d"],],z=["Men","Women","Unknown"],O=[["Men","m"],["Women","f"],["Unknown","u"],],J={0:"Unknown",1:"Men",2:"Women"},q="2021-02",V=["Classic","Electric","Unknown"],P=[["Classic","c"],["Electric","e"],["Unknown","u"]],L={docked_bike:"Classic",classic_bike:"Classic",electric_bike:"Electric",unknown:"Unknown",motivate_dockless_bike:"Unknown"},$="2021-02",K=[["None","n"],["Region","r"],["Gender","g"],["User Type","u"],["Rideable Type","b"],],X={None:{"":"#636EFA",Total:"black"},Region:{NYC:"#636efa",HOB:"#63aefa",JC:"#632bfa"},Gender:{Unknown:"#AB63FA",Men:"#19D3F3",Women:"#FFA15A"},"User Type":{Daily:"#FF6692",Annual:"#FF97ff"},"Rideable Type":{Unknown:"#636EFA",Electric:"#AB63FA",Classic:"#00CC96"}},Q=[["Rides","r"],["Ride minutes","m"],],ee={Rides:{yAxis:"Total Rides",title:"Citi Bike Rides per Month",hoverLabel:"Rides"},"Ride minutes":{yAxis:"Total Ride Minutes",title:"Citi Bike Ride Minutes per Month",hoverLabel:"Minutes"}},en={None:[""],"User Type":["Daily","Annual"],Gender:["Unknown","Women","Men"],"Rideable Type":["Electric","Classic","Unknown"],Region:["JC","HOB","NYC",]},et=t(5152),ea=t.n(et),er=t(41664),eo=t.n(er);t(10087);var ei=ea()(function(){return Promise.all([t.e(960),t.e(660)]).then(t.bind(t,58660))},{loadableGenerated:{webpack:function(){return[58660]}},ssr:!1}),ec=ea()(function(){return t.e(831).then(t.bind(t,25831)).then(function(e){return e.Tooltip})},{loadableGenerated:{webpack:function(){return[25831]}},ssr:!1}),es=Math.pow;function el(e){if(!e.size)return[];for(var n=e.dropNa(),t=n.size-1,a=12,r=[];;){a>t&&(a=t);var o=n.iloc([t]),i=n.iloc([t-a]),c={m:i.index[0],v:i.values[0]},s={m:o.index[0],v:o.values[0]},l=s.v/c.v,d=a/12,u=100*(es(l,1/d)-1);if(r.push({numYrs:d,numMos:a,first:c,last:s,ratio:l,percent:u}),a==t)break;a+=12}return r}function ed(e){var n=e.numYrs,t=e.numMos,a=e.first,o=e.last,i=e.ratio,c=e.percent,s=function(e){return"".concat(parseInt(e.substring(5)),"/").concat(e.substring(2,4))},l="".concat(s(a.m),"-").concat(s(o.m)),d=t%12==0?"".concat(n.toFixed(0)," year").concat(12==t?"":"s"," (").concat(l,")"):"".concat(n.toFixed(1)," years (").concat(t," mos, ").concat(l,")"),u=(0,r.Z)(c>=0?[c.toFixed(1),"increase"]:[(-c).toFixed(1),"decrease"],2),h=u[0],m=u[1];return"".concat(d,": ").concat(a.v.toFixed(0)," → ").concat(o.v.toFixed(0)," (").concat(i.toFixed(1),"x), ").concat(h,"% avg annual ").concat(m)}var eu=function(e){var n=e.label,t=e.id,a=e.children,r=(0,G.b)();return(0,c.jsxs)("span",{children:[n,(0,c.jsx)("span",{id:t,children:(0,c.jsx)("img",{className:_().warning,alt:"warning icon",src:"".concat(r,"/assets/warning.png")})}),(0,c.jsx)(ec,{anchorId:t,className:_().tooltip,children:a})]})},eh=function(e){return(0,c.jsxs)(eu,{label:"Gender",id:"gender-label-tooltip-".concat(e),children:[(0,c.jsx)("div",{children:"Gender data no longer published"}),(0,c.jsx)("div",{children:"(as of February 2021)"})]})},em=function(e){return(0,c.jsxs)(eu,{label:"Bike Type",id:"bike-type-label-tooltip-".concat(e),children:[(0,c.jsx)("div",{children:"E-bike data seems to be"}),(0,c.jsx)("div",{children:"mostly missing / undercounted"})]})},ep=!0;function ef(e){var n,d,u=e.data,p=e.lastMonthStr,v=function(e,n,t){return(0,c.jsx)("a",{href:n,title:t,target:"_blank",children:(0,c.jsx)("img",{className:_().icon,alt:t,src:"".concat(e2,"/assets/").concat(e,".png")})})},x={y:(0,W.gO)("Rides",Q),u:(0,W.W$)(I,Y,""),s:(0,W.gO)("None",K),pct:W.Yg,r:(0,W.W$)(B,H,""),g:(0,W.W$)(z,O,""),rt:(0,W.W$)(V,P,""),d:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.defaultValue,t=void 0===n?"All":n,a=e.handleUnexpectedValue,o=void 0===a?"Warn":a,i=b().isEqual;return{encode:function(e){if(!i(e,t)){if("string"==typeof e)return e;var n=e.start,a=e.end;return"".concat(T(n),"-").concat(T(a))}},decode:function(e){if(void 0===e)return t;if(null===e)return function(e,n,t){if("Default"===t)return n;var a="Unexpected value ".concat(e," in decoded query param; returning default ").concat(n);if("Warn"===t)return console.error(a),n;throw Error(a)}(e,"All",o);if(["All","1y","2y","3y","4y","5y",].includes(e))return e;var n,a=(0,r.Z)(e.split("-").map(function(e){return e?U(e):void 0}),2);return{start:a[0],end:a[1]}}}}(),avg:(0,W.wO)([12]),dl:W.Yg},y=(0,g.useMemo)(function(){var e=parseInt(p.substring(0,4)),n=parseInt(p.substring(4,6))-1;return new Date(e,n).toLocaleDateString("en-us",{month:"short",year:"numeric"})},[p]),w=(0,W.O5)({params:x}),j=(0,r.Z)(w.y,2),N=j[0],M=j[1],D=(0,r.Z)(w.u,2),A=D[0],et=D[1],ea=(0,r.Z)(w.s,2),er=ea[0],ec=ea[1],es=(0,r.Z)(w.pct,2),eu=es[0],ep=es[1],ef=(0,r.Z)(w.r,2),ev=ef[0],eb=ef[1],eg=(0,r.Z)(w.g,2),ex=eg[0],e_=eg[1],ey=(0,r.Z)(w.rt,2),ek=ey[0],ew=ey[1],ej=(0,r.Z)(w.d,2),eN=ej[0],eC=ej[1],eM=(0,r.Z)(w.avg,2),eD=eM[0],eR=eM[1],eA=(0,r.Z)(w.dl,2),eT=eA[0];eA[1];var eU=(0,g.useMemo)(function(){var e=new s.DataFrame(u),n=new s.Series(e.loc({columns:["Year","Month"]}).apply(function(e){var n=(0,r.Z)(e,2),t=n[0],a=n[1];return"".concat(t,"-").concat(a.toString().padStart(2,"0"))}).values);return(e=(e=e.drop({columns:["Year","Month"]}).addColumn("m",n).rename({Count:"Rides"})).addColumn("Ride minutes",e.column("Duration").div(60))).drop({columns:["Duration"]})},[u]),eE=(0,g.useState)(!0),eF=eE[0],eZ=eE[1],eG=(0,g.useMemo)(function(){var e=eu&&"None"!=er;return{stackKeys:en[er],stackPercents:e,hovertemplate:e?"%{y:.0%}":"%{y:,.0f}"}},[er,eu]),eS=eG.stackKeys,eW=eG.stackPercents,eB=eG.hovertemplate,eH=(0,g.useMemo)(function(){return ee[N]},[N]),eI=eH.hoverLabel,eY=eH.title,ez=(0,g.useMemo)(function(){var e=[];if(ev&&ev.length<B.length&&e.push("".concat(ev.join("+"))),ek.length&&ek.length<V.length&&e.push("".concat(ek.join("/")," bikes")),A.length&&A.length<I.length){var n=(0,r.Z)(A,1)[0];e.push({Annual:"Annual members",Daily:"Daily customers"}[n])}var t="None"==er?void 0:"Rideable Type"==er?"Bike Type":er;return eW&&t?e.push("% by ".concat(t)):eW?e.push("%"):t&&e.push("by ".concat(t)),e.length?"".concat(e.join(", ")):void 0},[ev,ek,A,eW,er,]),eO=(0,g.useMemo)(function(){return eU.drop({columns:"Gender"}).addColumn("Gender",eU.Gender.map(function(e){return J[e]})).drop({columns:"Rideable Type"}).addColumn("Rideable Type",eU["Rideable Type"].map(function(e){return L[e]}))},[eU]),eJ=(0,g.useMemo)(function(){var e=(0,o.Z)((0,l._I)({Region:ev,"User Type":A,Gender:ex,"Rideable Type":ek},function(e,n){return eO[e].apply(function(e){return n.includes(e)})})),n=e[0],t=e.slice(1).reduce(function(e,n){return e.and(n)},n);return eO.loc({rows:t})},[eO,ev,A,ex,ek,]),eq=(0,g.useMemo)(function(){var e=f()(b().max(u.map(function(e){return new Date(e.Year,e.Month-1)}))).add(1,"M").toDate(),n=(0,l.Q8)(E(eN,e),function(e,n){var t;return"".concat(n.getFullYear(),"-").concat((n.getMonth()+1).toString().padStart(2,"0"))}),t=n.start,a=n.end;return console.log("computed start, end",{start:t,end:a},"last:",e),{start:t,end:a}},[u,eN,]),eV=eq.start,eP=eq.end,eL=(0,g.useMemo)(function(){var e={};e["".concat(N,"_sum")]=N;var n=null;eJ.shape[0]&&(n=eJ.groupby("None"==er?["m"]:["m",er]).col([N]).sum().rename(e));var t=null;if(n){if("None"==er)t=n.setIndex({column:"m",drop:!0}).sortIndex();else{a=n,r="m",o=er;var a,r,o,i,c=((i={})["".concat(r,"_Group")]=r,t=a.groupby([r]).apply(function(e){return e.drop({columns:[r]}).setIndex({column:o}).transpose().drop({index:[o]})}).rename(i).setIndex({column:r}).drop({columns:[r]})).columns;t=(t=t.loc({columns:eS.filter(function(e){return c.includes(e)})})).sortIndex()}}if(eW&&t){var s=t.sum();t=t.div(s,{axis:0})}return{grouped:n,pivoted:t}},[N,er,eW,eJ]),e$=eL.grouped,eK=eL.pivoted,eX=(0,g.useMemo)(function(){if("None"==er){if(!e$)return[];var e={};e["".concat(N,"_sum")]=N;var n=e$.groupby(["m"]).col([N]).sum().rename(e).setIndex({column:"m",drop:!0}).sortIndex()[N];return eD.map(function(e){var t=h(n,e),a=m(t,{start:eV,end:eP});return el(a).forEach(function(e){return console.log(ed(e))}),{stackVal:"",n:e,s:a}})}if(!eK)return[];var t=eP;"Gender"==er&&eP>q&&(t=q);var a=(0,l.sq)(eD.map(function(e){var n=h(eK,e),a=m(n,{start:eV,end:t});return[e,a,]}));return(0,l.zo)((0,l._I)(a,function(e,n){return n.columns.map(function(t){var a=n[t];return"Rideable Type"==er&&"Unknown"==t&&eP>$&&(a=m(a,{end:$})),el(a).forEach(function(e){return console.log("".concat(t,": ").concat(ed(e)))}),{stackVal:t,n:e,s:a}})}))},[eK,e$,eV,eP,N,eD,]);console.log("rollingSeries:",eX,null===(n=eX[0])||void 0===n?void 0:null===(d=n.s)||void 0===d?void 0:d.shape);var eQ=(0,g.useMemo)(function(){return"None"==er?{"":0}:(0,l.sq)(eS.filter(function(e){return null==eK?void 0:eK.columns.includes(e)}).map(function(e,n){return[e,-n]}))},[er,eS,eK]),e0=(0,g.useMemo)(function(){return eK?m(eK,{start:eV,end:eP}):null},[eK,eV,eP]),e1=(0,g.useMemo)(function(){var e=eX.map(function(e){var n=e.stackVal,t=e.n,a=e.s,r=n?"".concat(n," (").concat(t,"mo)"):"".concat(t,"mo avg"),o=X[er],i=n?function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5;return"#"+[e.substring(1,3),e.substring(3,5),e.substring(5,7)].map(function(e){var t;return("0"+(t=Math.round(parseInt(e,16)*n)).toString(16)).substr(-2)}).join("")}(o[n||"Total"],.75):"black";return{name:r,x:a.index,y:a.values,type:"scatter",marker:{color:i},line:{width:4},hovertemplate:eB,legendrank:101+2*eQ[n]}});console.log("rollingTraces:",e);var n=e0&&e0.columns.map(function(e){var n=e0[e],t=n.index,a=n.values,r="None"==er?"":e,o=X[er][r];return{x:t,y:a,name:r?e:eI,type:"bar",marker:{color:o},hovertemplate:eB,legendrank:100+2*eQ[r]}})||[];return console.log("barTraces:",n),n.concat(e)},[eX,e0,er,]),e2=(0,G.b)(),e6="#ddd",e3=null==eF?"None"!=er:eF,e5=(0,g.useState)(!1),e8=e5[0],e4=e5[1],e7=(0,g.useState)(null),e9=e7[0],ne=e7[1],nn=(0,g.useState)(new Date),nt=nn[0];nn[1];var na,nr=(0,g.useState)(null),no=nr[0],ni=nr[1];return(0,g.useEffect)(function(){if(no){var e=no.time-(null==nt?void 0:nt.getTime());console.log("Plot initialized ".concat(e/1e3,"s after initial page render"))}},[null==no?void 0:no.set]),(0,g.useEffect)(function(){if(console.log("plotly effect:",e9,eT),e9){var e=e9.figure,n=e9.graphDiv;e9.set&&eT&&Promise.all([t.e(504),t.e(706),t.e(54),t.e(407),t.e(9),t.e(332)]).then(t.t.bind(t,55332,23)).then(function(e){return e.default}).then(function(t){return t.downloadImage(e,{width:n.offsetWidth,height:n.offsetHeight,filename:"rides",format:"png"})}).then(function(e){return console.log("downloaded img:",e)})}},[null==e9?void 0:e9.set]),(0,c.jsxs)("div",{id:"plot",className:_().container,children:[(0,c.jsx)(F.Z,{title:eY,description:"Graph of Citi Bike ridership over time",thumbnail:"ctbk-rides"}),(0,c.jsxs)("main",{className:_().main,children:[(0,c.jsxs)("div",{className:_().titleContainer,onClick:function(){return!1},children:[(0,c.jsx)("h1",{className:_().title,children:eY}),ez&&(0,c.jsx)("p",{className:_().subtitle,children:ez})]}),(0,c.jsxs)("div",{className:_().plotWrapper,children:[(0,c.jsx)("div",{className:"".concat(_().fallback," ").concat(e8?_().hidden:""),style:{height:"".concat(450,"px"),maxHeight:"".concat(450,"px")},onClick:function(){return!1},children:(0,c.jsx)("img",{alt:eY,src:"".concat(e2,"/").concat("plot-fallback.png"),width:"100%",height:450})}),(0,c.jsx)(ei,{className:_().plotly,style:{visibility:e8?void 0:"hidden",width:"100%",height:"".concat(450,"px")},onInitialized:(na=(0,a.Z)(function(e,n){return(0,i.__generator)(this,function(t){return no||ni({time:Date.now(),set:!0}),console.log("initialized:",e,n),ne({figure:e,graphDiv:n,set:!0}),e4(!0),[2]})}),function(e,n){return na.apply(this,arguments)}),onDoubleClick:function(){return eC("All")},onRelayout:function(e){if("xaxis.range[0]"in e&&"xaxis.range[1]"in e){var n=(0,r.Z)([e["xaxis.range[0]"],e["xaxis.range[1]"],].map(function(e){return e?new Date(e):void 0}),2),t=n[0],a=n[1],o=(t=t?f()(t).subtract(1,"month").toDate():t)||a?{start:t,end:a}:"All";eC(o)}},data:e1,useResizeHandler:!0,layout:{autosize:!0,barmode:"stack",showlegend:e3,hovermode:"x",legend:{x:.5,xanchor:"center",yanchor:"top",orientation:"h",traceorder:"normal"},xaxis:{tickfont:{size:14},titlefont:{size:14},tickformat:"%b '%y",gridcolor:e6},yaxis:{automargin:!0,gridcolor:e6,tickfont:{size:14},titlefont:{size:14},tickformat:eW?".0%":void 0,range:eW?[0,1.01,]:void 0},paper_bgcolor:"rgba(0,0,0,0)",plot_bgcolor:"rgba(0,0,0,0)",margin:{t:0,r:0,b:40,l:0}},config:{displayModeBar:!1}})]}),(0,c.jsx)("div",{className:_().row,children:(0,c.jsxs)("details",{className:_().controls,children:[(0,c.jsxs)("summary",{children:[(0,c.jsx)("span",{className:_().settingsGear,children:"⚙"}),"️"]}),(0,c.jsxs)("div",{className:"".concat(_().dateControls," ").concat(k().control),children:[(0,c.jsx)("label",{className:k().controlHeader,children:"Dates"}),["1y","2y","3y","4y","5y","All"].map(function(e){return(0,c.jsx)("input",{type:"button",value:e,className:"".concat(_().dateRangeButton," ").concat(eN==e&&_().activeButton||_().inactiveButton),onClick:function(){return eC(e)}},e)})]}),(0,c.jsx)(R,{label:"Region",data:B.map(function(e){return{name:e,data:e,checked:ev.includes(e)}}),cb:eb}),(0,c.jsx)(Z,{label:"Stack by",options:["None","Region","User Type",{label:eh(1),data:"Gender"},{label:em(1),data:"Rideable Type"},],cb:ec,choice:er}),(0,c.jsxs)("div",{className:k().control,children:[(0,c.jsx)(C,{label:"12mo avg",checked:eD.includes(12),cb:function(e){return eR(e?[12]:[])}}),(0,c.jsx)(C,{label:"Legend",checked:e3,cb:eZ}),(0,c.jsx)(C,{label:"Stack %",checked:eu,cb:ep})]}),(0,c.jsx)(Z,{label:"Y Axis",options:["Rides",{label:"Minutes",data:"Ride minutes"}],cb:M,choice:N}),(0,c.jsx)(R,{label:"User Type",data:I.map(function(e){return{name:e,data:e,checked:A.includes(e)}}),cb:et}),(0,c.jsx)(R,{label:eh(2),data:[{name:"Men",data:"Men",checked:ex.includes("Men")},{name:"Women",data:"Women",checked:ex.includes("Women")},{name:"Unknown",data:"Unknown",checked:ex.includes("Unknown")},],cb:e_}),(0,c.jsx)(R,{label:em(2),data:[{name:"Classic",data:"Classic",checked:ek.includes("Classic")},{name:"Electric",data:"Electric",checked:ek.includes("Electric")},{name:"Unknown",data:"Unknown",checked:ek.includes("Unknown")},],cb:ew})]})}),(0,c.jsx)("hr",{}),(0,c.jsx)("div",{className:"no-gutters row ".concat(_().row),children:(0,c.jsxs)("div",{className:"col-md-12",children:[(0,c.jsx)("p",{children:'Expand the "⚙️" to filter or stack by region, user type, gender, bike type, or date, or toggle aggregation of rides or total ride minutes.'}),(0,c.jsx)("h4",{children:"Examples"}),(0,c.jsxs)("ul",{children:[(0,c.jsx)("li",{children:(0,c.jsx)(eo(),{href:"/?r=jh&s=r",children:"JC + Hoboken"})}),(0,c.jsxs)("li",{children:[(0,c.jsx)(eo(),{href:"/?y=m&s=g&pct=&g=mf&d=1406-2101",children:"Ride minute %'s, Men vs. Women"}),", Jun 2014 – January 2021"]}),(0,c.jsx)("li",{children:(0,c.jsx)(eo(),{href:"/?s=u&pct=",children:"Annual vs. daily user %'s"})}),(0,c.jsx)("li",{children:(0,c.jsx)(eo(),{href:"/?y=m&s=b&rt=ce",children:"Classic / E-bike ride minutes"})}),(0,c.jsx)("li",{children:(0,c.jsx)(eo(),{href:"/",children:"Default view (system-wide rides over time)"})})]}),(0,c.jsxs)("p",{children:["This plot should refresh when ",(0,c.jsx)("a",{href:"https://www.citibikenyc.com/system-data",target:"_blank",children:"new data is published by Citi Bike"})," (typically around the 2nd week of each month, covering the previous month)."]}),(0,c.jsxs)("p",{children:[(0,c.jsx)("a",{href:"https://github.com/neighbor-ryan/ctbk.dev",target:"_blank",children:"The GitHub repo"})," has more info as well as ",(0,c.jsx)("a",{href:"https://github.com/neighbor-ryan/ctbk.dev/issues",target:"_blank",children:"planned enhancements"}),"."]}),(0,c.jsx)("hr",{}),(0,c.jsx)("h3",{id:"map",children:"Map: Stations + Common Destinations"}),(0,c.jsxs)("p",{children:["Check out ",(0,c.jsx)(eo(),{href:"./stations",children:(0,c.jsxs)("a",{children:["this map visualization of stations and their ridership counts in ",y]})}),"."]}),(0,c.jsx)("a",{href:"./stations",children:(0,c.jsx)("img",{className:_().map,src:"screenshots/ctbk-stations.png",alt:"Map of stations in Jersey City, sized by ridership, and showing connections to other stations"})}),(0,c.jsx)("hr",{}),(0,c.jsx)("h3",{id:"qc",children:"\uD83D\uDEA7 Data-quality issues \uD83D\uDEA7"}),(0,S.ZP)('\nSeveral things changed in February 2021 (presumably as part of [the Lyft acquistion](https://www.lyft.com/blog/posts/lyft-becomes-americas-largest-bikeshare-service)):\n- "Gender" information is no longer provided:\n  - All rides are labeled "unknown" starting February 2021\n  - [Here\'s an example showing the available data](?y=m&s=g&pct=&g=mf&d=1406-2101)\n- A new "Rideable Type" field was added, containing values `docked_bike` and `electric_bike` \uD83C\uDF89; however, [it currently only shows ebike data from June 2021](?y=m&s=b&rt=ce)\n- The "User Type" values changed ("Annual" → "member", "Daily" → "casual"); I\'m using the former/old values here, they seem equivalent.\n                    '),(0,c.jsxs)("div",{className:_().footer,children:["Code: ",v("gh","https://github.com/neighbor-ryan/ctbk.dev#readme","GitHub logo"),"Data: ",v("s3","https://s3.amazonaws.com/ctbk/index.html","Amazon S3 logo"),"Author: ",v("twitter","https://twitter.com/RunsAsCoded","Twitter logo")]})]})})]})]})}},8974:function(e,n,t){"use strict";t.d(n,{Z:function(){return c}});var a=t(85893);t(67294);var r=t(78855),o="https://ctbk.dev",i="".concat(o,"/screenshots");function c(e){var n=e.title,t=e.description,c=e.path,s=e.thumbnail;return(0,a.jsxs)(r.F,{title:n,description:t,url:"".concat(o,"/").concat(c||""),thumbnail:"".concat(i,"/").concat(s,".png"),children:[(0,a.jsx)("meta",{name:"twitter:card",content:"summary"},"twcard"),(0,a.jsx)("meta",{name:"twitter:creator",content:"RunsAsCoded"},"twhandle"),(0,a.jsx)("meta",{property:"og:site_name",content:"ctbk.dev"},"ogsitename")]})}},50636:function(){},95408:function(e){e.exports={container:"index_container__Xi8tY",row:"index_row__6VrNw",button:"index_button__g8ljY",main:"index_main__3wZvj",map:"index_map__orGVi",titleContainer:"index_titleContainer__OGED6",title:"index_title__RIjyU",subtitle:"index_subtitle__7ZcxE",controls:"index_controls__KdiaJ",settingsGear:"index_settingsGear__GmMwD",plotSection:"index_plotSection__qdLGq",plotChildren:"index_plotChildren__UH_18",mid:"index_mid__xHhVU",warning:"index_warning__vb4p2",tooltip:"index_tooltip__Mg2W_",dateControls:"index_dateControls__ngyNj","date-range":"index_date-range__F6Zp8",dateRangeButton:"index_dateRangeButton__bG82_",activeButton:"index_activeButton__8c8dV",inactiveButton:"index_inactiveButton__3uy5U",plotWrapper:"index_plotWrapper__dKWWY",hidden:"index_hidden__ihuWw",fallback:"index_fallback__r2U6p",plotly:"index_plotly__UNxAh",footer:"index_footer__JKxwI",icon:"index_icon__CgRrC"}},57639:function(e){e.exports={control:"controls_control__HMu3o",nowrap:"controls_nowrap__QtWwW",controlHeader:"controls_controlHeader__esdEV",subControl:"controls_subControl__ud5NN",checkbox:"controls_checkbox__9tzHR"}},75410:function(){},48628:function(){},31601:function(){},67792:function(){},34977:function(){},75042:function(){},18685:function(){},20067:function(){},55382:function(){},72095:function(){},72061:function(){},61219:function(){}},function(e){e.O(0,[662,885,599,849,524,412,864,904,723,974,132,171,419,774,888,179],function(){return e(e.s=48312)}),_N_E=e.O()}]);