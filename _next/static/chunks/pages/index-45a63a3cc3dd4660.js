(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{48312:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(84925)}])},84925:function(e,n,t){"use strict";t.r(n),t.d(n,{__N_SSG:function(){return el},default:function(){return er}});var a=t(85893),o=t(93889),i=t(56461);let{fromEntries:s}=Object;function l(e,n){let[t,a]=e.reduce((t,a,o)=>{let[i,s]=t,l=o-n;return isNaN(e[o])||(s+=e[o]),l>=0&&!isNaN(e[l])?(s-=e[l],i.push(s/n)):i.push(NaN),[i,s]},[[],0]);return t}function r(e,n){if(e.$isSeries)return new o.Series(l(e.values,n),{index:e.index});{let t=s(e.columns.map(t=>[t,l(e[t].values,n)]));return new o.DataFrame(t,{index:e.index})}}function c(e,n){let{start:t,end:a}=n;return e.$isSeries?e.loc(e.index.map(e=>(void 0===t||t<=e)&&(void 0===a||e<a))):e.loc({rows:e.index.map(e=>(void 0===t||t<=e)&&(void 0===a||e<a))})}var d=t(30381),u=t.n(d),h=t(96486),m=t.n(h),p=t(67294),x=t(65999),b=t.n(x),g=t(52935),f=t.n(g);class _ extends p.Component{render(){let{id:e,className:n=f().checkbox,label:t,checked:o,nowrap:i=!0,cb:s}=this.props;return(0,a.jsx)("div",{id:e,className:"".concat(f().subControl," ").concat(n||""),children:(0,a.jsxs)("label",{className:i?f().nowrap:"",children:[(0,a.jsx)("input",{type:"checkbox",checked:o,onChange:e=>s(e.target.checked)}),t]})})}}let{fromEntries:y}=Object;function k(e){let{label:n,data:t,cb:o,nowrap:i=!0,children:s}=e,l=y(t.map(e=>{let{name:n,data:t,checked:a}=e;return[n,{data:t,checked:a||!1}]})),r=t.map(e=>{let{name:n,disabled:t}=e,o=l[n].checked;return(0,a.jsxs)("label",{className:i?f().nowrap:"",children:[(0,a.jsx)("input",{type:"checkbox",name:n,value:n,checked:o,disabled:t,onChange:()=>{}}),n]},n)});return(0,a.jsxs)("div",{className:f().control,children:[(0,a.jsx)("div",{className:f().controlHeader,children:n}),(0,a.jsx)("div",{onChange:function(e){let n=e.target.value,t=e.target.checked,{checked:a,data:i}=l[n];if(a==t)console.warn("Checkbox",n,"already has value",t);else{let e={...l};e[n]={data:i,checked:t};let a=Object.keys(e).filter(n=>e[n].checked).map(n=>e[n].data);o(a)}},className:"".concat(f().subControl),children:r}),s]})}let v=u()("2013-06-01").toDate(),j=e=>e?u()(e).format("YYMM"):"",w=e=>{let n="20".concat(e.substring(0,2)),t=e.substring(2,4);return u()("".concat(n,"-").concat(t,"-01")).toDate()},N=(e,n)=>{if(n=n||new Date,"All"==e)return{start:v,end:n};if("string"==typeof e){let t=new Date(n);if("y"!=e[e.length-1])throw Error("Unrecognized date range string: ".concat(e));let a=parseInt(e.substr(0,e.length-1));return t.setFullYear(t.getFullYear()-a),console.log("subtracted ".concat(a," years: ").concat(t,", ").concat(n)),{start:t,end:n}}{let{start:t,end:a}=e;return{start:t||v,end:a||n}}};var C=t(79853);function M(e){let{label:n,options:t,choice:o,cb:i,nowrap:s=!0,children:l}=e,r=t.map(e=>{let{label:t,data:i,disabled:l}="string"==typeof e?{label:e,data:e,disabled:!1}:e;return(0,a.jsxs)("label",{className:s?f().nowrap:"",children:[(0,a.jsx)("input",{type:"radio",name:n+"-"+i,value:i,checked:i==o,disabled:l,onChange:e=>{}}),t]},i)});return(0,a.jsxs)("div",{className:f().control,children:[(0,a.jsx)("div",{className:f().controlHeader,children:n}),(0,a.jsx)("div",{id:n,className:f().subControl,onChange:e=>i(e.target.value),children:r}),l]})}var R=t(78769),D=t(82247),A=t(33092);let T=["JC","HOB","NYC"],E=[["HOB","h"],["NYC","n"],["JC","j"]],U=["Annual","Daily"],F=[["Annual","a"],["Daily","d"]],G=["Men","Women","Unknown"],S=[["Men","m"],["Women","f"],["Unknown","u"]],W={0:"Unknown",1:"Men",2:"Women"},B="2021-02",H=["Classic","Electric","Unknown"],I=[["Classic","c"],["Electric","e"],["Unknown","u"]],z={docked_bike:"Classic",classic_bike:"Classic",electric_bike:"Electric",unknown:"Unknown",motivate_dockless_bike:"Unknown"},Y="2021-02",O=[["None","n"],["Region","r"],["Gender","g"],["User Type","u"],["Rideable Type","b"]],J={None:{"":"#636EFA",Total:"black"},Region:{NYC:"#636efa",HOB:"#63aefa",JC:"#632bfa"},Gender:{Unknown:"#AB63FA",Men:"#19D3F3",Women:"#FFA15A"},"User Type":{Daily:"#FF6692",Annual:"#FF97ff"},"Rideable Type":{Unknown:"#636EFA",Electric:"#AB63FA",Classic:"#00CC96"}},q=[["Rides","r"],["Ride minutes","m"]],L={Rides:{yAxis:"Total Rides",title:"Citi Bike Rides per Month",hoverLabel:"Rides"},"Ride minutes":{yAxis:"Total Ride Minutes",title:"Citi Bike Ride Minutes per Month",hoverLabel:"Minutes"}},P={None:[""],"User Type":["Daily","Annual"],Gender:["Unknown","Women","Men"],"Rideable Type":["Electric","Classic","Unknown"],Region:["JC","HOB","NYC"]},V=e=>"".concat(e.getFullYear(),"-").concat((e.getMonth()+1).toString().padStart(2,"0"));var Z=t(5152),$=t.n(Z),K=t(41664),X=t.n(K);t(66603);let Q=$()(()=>Promise.all([t.e(960),t.e(660)]).then(t.bind(t,58660)),{loadableGenerated:{webpack:()=>[58660]},ssr:!1}),ee=$()(()=>t.e(831).then(t.bind(t,25831)).then(e=>e.Tooltip),{loadableGenerated:{webpack:()=>[25831]},ssr:!1}),{pow:en}=Math;function et(e){if(!e.size)return[];let n=e.dropNa(),t=n.size,a=t-1,o=12,i=[];for(;;){o>a&&(o=a);let e=n.iloc([a]),t=n.iloc([a-o]),s={m:t.index[0],v:t.values[0]},l={m:e.index[0],v:e.values[0]},r=l.v/s.v,c=o/12,d=en(r,1/c)-1,u=100*d;if(i.push({numYrs:c,numMos:o,first:s,last:l,ratio:r,percent:u}),o==a)break;o+=12}return i}function ea(e){let{numYrs:n,numMos:t,first:a,last:o,ratio:i,percent:s}=e;function l(e){return"".concat(parseInt(e.substring(5)),"/").concat(e.substring(2,4))}let r="".concat(l(a.m),"-").concat(l(o.m)),c=t%12==0?"".concat(n.toFixed(0)," year").concat(12==t?"":"s"," (").concat(r,")"):"".concat(n.toFixed(1)," years (").concat(t," mos, ").concat(r,")"),[d,u]=s>=0?[s.toFixed(1),"increase"]:[(-s).toFixed(1),"decrease"];return"".concat(c,": ").concat(a.v.toFixed(0)," → ").concat(o.v.toFixed(0)," (").concat(i.toFixed(1),"x), ").concat(d,"% avg annual ").concat(u)}let eo=e=>{let{label:n,id:t,children:o}=e,i=(0,R.b)();return(0,a.jsxs)("span",{children:[n,(0,a.jsx)("span",{id:t,children:(0,a.jsx)("img",{className:b().warning,alt:"warning icon",src:"".concat(i,"/assets/warning.png")})}),(0,a.jsx)(ee,{anchorId:t,className:b().tooltip,children:o})]})},ei=e=>(0,a.jsxs)(eo,{label:"Gender",id:"gender-label-tooltip-".concat(e),children:[(0,a.jsx)("div",{children:"Gender data no longer published"}),(0,a.jsx)("div",{children:"(as of February 2021)"})]}),es=e=>(0,a.jsxs)(eo,{label:"Bike Type",id:"bike-type-label-tooltip-".concat(e),children:[(0,a.jsx)("div",{children:"E-bike data seems to be"}),(0,a.jsx)("div",{children:"mostly missing / undercounted"})]});var el=!0;function er(e){var n,s;let{data:l,lastMonthStr:d}=e,h={y:(0,A.gO)("Rides",q),u:(0,A.W$)(U,F,""),s:(0,A.gO)("None",O),pct:A.Yg,r:(0,A.W$)(T,E,""),g:(0,A.W$)(G,S,""),rt:(0,A.W$)(H,I,""),d:function(){let{defaultValue:e="All",handleUnexpectedValue:n="Warn"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=m().isEqual;return{encode(n){if(t(n,e))return;if("string"==typeof n)return n;let{start:a,end:o}=n;return"".concat(j(a),"-").concat(j(o))},decode(t){if(void 0===t)return e;if(null===t)return function(e,n,t){if("Default"===t)return n;{let a="Unexpected value ".concat(e," in decoded query param; returning default ").concat(n);if("Warn"===t)return console.error(a),n;throw Error(a)}}(t,"All",n);if(["All","1y","2y","3y","4y","5y"].includes(t))return t;{let[e,n]=t.split("-").map(e=>e?w(e):void 0);return{start:e,end:n}}}}}(),avg:(0,A.wO)([12]),dl:A.Yg},x=(0,p.useMemo)(()=>{let e=parseInt(d.substring(0,4)),n=parseInt(d.substring(4,6))-1,t=new Date(e,n);return t.toLocaleDateString("en-us",{month:"short",year:"numeric"})},[d]),{y:[g,y],u:[v,Z],s:[$,K],pct:[ee,en],r:[eo,el],g:[er,ec],rt:[ed,eu],d:[eh,em],avg:[ep,ex],dl:[eb,eg]}=(0,A.O5)({params:h}),ef=(0,p.useMemo)(()=>{let e=new o.DataFrame(l),n=new o.Series(e.loc({columns:["Year","Month"]}).apply(e=>{let[n,t]=e;return"".concat(n,"-").concat(t.toString().padStart(2,"0"))}).values);return(e=(e=e.drop({columns:["Year","Month"]}).addColumn("m",n).rename({Count:"Rides"})).addColumn("Ride minutes",e.column("Duration").div(60))).drop({columns:["Duration"]})},[l]),[e_,ey]=(0,p.useState)(!0),{stackKeys:ek,stackPercents:ev,hovertemplate:ej}=(0,p.useMemo)(()=>{let e=ee&&"None"!=$;return{stackKeys:P[$],stackPercents:e,hovertemplate:e?"%{y:.0%}":"%{y:,.0f}"}},[$,ee]),{hoverLabel:ew,title:eN}=(0,p.useMemo)(()=>L[g],[g]),eC=(0,p.useMemo)(()=>{let e=[];if(eo&&eo.length<T.length&&e.push("".concat(eo.join("+"))),ed.length&&ed.length<H.length&&e.push("".concat(ed.join("/")," bikes")),v.length&&v.length<U.length){let[n]=v;e.push({Annual:"Annual members",Daily:"Daily customers"}[n])}let n="None"==$?void 0:"Rideable Type"==$?"Bike Type":$;return ev&&n?e.push("% by ".concat(n)):ev?e.push("%"):n&&e.push("by ".concat(n)),e.length?"".concat(e.join(", ")):void 0},[eo,ed,v,ev,$]),eM=(0,p.useMemo)(()=>ef.drop({columns:"Gender"}).addColumn("Gender",ef.Gender.map(e=>W[e])).drop({columns:"Rideable Type"}).addColumn("Rideable Type",ef["Rideable Type"].map(e=>z[e])),[ef]),eR=(0,p.useMemo)(()=>{let[e,...n]=(0,i._I)({Region:eo,"User Type":v,Gender:er,"Rideable Type":ed},(e,n)=>eM[e].apply(e=>n.includes(e))),t=n.reduce((e,n)=>e.and(n),e),a=eM.loc({rows:t});return a},[eM,eo,v,er,ed]),{start:eD,end:eA}=(0,p.useMemo)(()=>{let e=u()(m().max(l.map(e=>new Date(e.Year,e.Month-1)))).add(1,"M").toDate(),{start:n,end:t}=(0,i.Q8)(N(eh,e),(e,n)=>V(n));return console.log("computed start, end",{start:n,end:t},"last:",e),{start:n,end:t}},[l,eh]),{grouped:eT,pivoted:eE}=(0,p.useMemo)(()=>{let e={};e["".concat(g,"_sum")]=g;let n=null;eR.shape[0]&&(n=eR.groupby("None"==$?["m"]:["m",$]).col([g]).sum().rename(e));let t=null;if(n){if("None"==$)t=n.setIndex({column:"m",drop:!0}).sortIndex();else{t=function(e,n,t,a){let o={};return o["".concat(n,"_Group")]=n,e.groupby([n]).apply(e=>e.drop({columns:[n]}).setIndex({column:t}).transpose().drop({index:[t]})).rename(o).setIndex({column:n}).drop({columns:[n]})}(n,"m",$,0);let e=t.columns;t=(t=t.loc({columns:ek.filter(n=>e.includes(n))})).sortIndex()}}if(ev&&t){let e=t.sum();t=t.div(e,{axis:0})}return{grouped:n,pivoted:t}},[g,$,ev,eR]),eU=(0,p.useMemo)(()=>{if("None"==$){if(!eT)return[];let e={};e["".concat(g,"_sum")]=g;let n=eT.groupby(["m"]).col([g]).sum().rename(e).setIndex({column:"m",drop:!0}).sortIndex()[g];return ep.map(e=>{let t=r(n,e),a=c(t,{start:eD,end:eA});return et(a).forEach(e=>console.log(ea(e))),{stackVal:"",n:e,s:a}})}{if(!eE)return[];let e=eA;"Gender"==$&&eA>B&&(e=B);let n=(0,i.sq)(ep.map(n=>{let t=r(eE,n),a=c(t,{start:eD,end:e});return[n,a]}));return(0,i.zo)((0,i._I)(n,(e,n)=>n.columns.map(t=>{let a=n[t];return"Rideable Type"==$&&"Unknown"==t&&eA>Y&&(a=c(a,{end:Y})),et(a).forEach(e=>console.log("".concat(t,": ").concat(ea(e)))),{stackVal:t,n:e,s:a}})))}},[eE,eT,eD,eA,g,ep]);console.log("rollingSeries:",eU,null===(n=eU[0])||void 0===n?void 0:null===(s=n.s)||void 0===s?void 0:s.shape);let eF=(0,p.useMemo)(()=>"None"==$?{"":0}:(0,i.sq)(ek.filter(e=>null==eE?void 0:eE.columns.includes(e)).map((e,n)=>[e,-n])),[$,ek,eE]),eG=(0,p.useMemo)(()=>{if(!eE)return null;let e=c(eE,{start:eD,end:eA});return e},[eE,eD,eA]),eS=(0,p.useMemo)(()=>{let e=eU.map(e=>{let{stackVal:n,n:t,s:a}=e,o=n?"".concat(n," (").concat(t,"mo)"):"".concat(t,"mo avg"),i=J[$],s=n?function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5;return"#"+[e.substring(1,3),e.substring(3,5),e.substring(5,7)].map(e=>("0"+Math.round(parseInt(e,16)*n).toString(16)).substr(-2)).join("")}(i[n||"Total"],.75):"black";return{name:o,x:a.index,y:a.values,type:"scatter",marker:{color:s},line:{width:4},hovertemplate:ej,legendrank:101+2*eF[n]}});console.log("rollingTraces:",e);let n=eG&&eG.columns.map(e=>{let n=eG[e],t=n.index,a=n.values,o="None"==$?"":e,i=J[$],s=i[o];return{x:t,y:a,name:o?e:ew,type:"bar",marker:{color:s},hovertemplate:ej,legendrank:100+2*eF[o]}})||[];return console.log("barTraces:",n),n.concat(e)},[eU,eG,$]),eW=(0,R.b)();function eB(e,n,t){return(0,a.jsx)("a",{href:n,title:t,target:"_blank",children:(0,a.jsx)("img",{className:b().icon,alt:t,src:"".concat(eW,"/assets/").concat(e,".png")})})}let eH="#ddd",eI=null==e_?"None"!=$:e_,[ez,eY]=(0,p.useState)(!1),[eO,eJ]=(0,p.useState)(null),[eq,eL]=(0,p.useState)(new Date),[eP,eV]=(0,p.useState)(null);return(0,p.useEffect)(()=>{if(!eP)return;let{time:e}=eP,n=e-(null==eq?void 0:eq.getTime());console.log("Plot initialized ".concat(n/1e3,"s after initial page render"))},[null==eP?void 0:eP.set]),(0,p.useEffect)(()=>{if(console.log("plotly effect:",eO,eb),!eO)return;let{figure:e,graphDiv:n,set:a}=eO;a&&eb&&Promise.all([t.e(504),t.e(706),t.e(54),t.e(407),t.e(9),t.e(332)]).then(t.t.bind(t,55332,23)).then(e=>e.default).then(t=>t.downloadImage(e,{width:n.offsetWidth,height:n.offsetHeight,filename:"plot-fallback",format:"png"})).then(e=>console.log("downloaded img:",e))},[null==eO?void 0:eO.set]),(0,a.jsxs)("div",{id:"plot",className:b().container,children:[(0,a.jsx)(C.Z,{title:eN,description:"Graph of Citi Bike ridership over time",thumbnail:"ctbk-rides"}),(0,a.jsxs)("main",{className:b().main,children:[(0,a.jsxs)("div",{className:b().titleContainer,onClick:()=>!1,children:[(0,a.jsx)("h1",{className:b().title,children:eN}),eC&&(0,a.jsx)("p",{className:b().subtitle,children:eC})]}),(0,a.jsxs)("div",{className:b().plotWrapper,children:[(0,a.jsx)("div",{className:"".concat(b().fallback," ").concat(ez?b().hidden:""),style:{height:"".concat(450,"px"),maxHeight:"".concat(450,"px")},onClick:()=>!1,children:(0,a.jsx)("img",{alt:eN,src:"".concat(eW,"/").concat("screenshots/plot-fallback.png"),width:"100%",height:450})}),(0,a.jsx)(Q,{className:b().plotly,style:{visibility:ez?void 0:"hidden",width:"100%",height:"".concat(450,"px")},onInitialized:async(e,n)=>{eP||eV({time:Date.now(),set:!0}),console.log("initialized:",e,n),eJ({figure:e,graphDiv:n,set:!0}),eY(!0)},onDoubleClick:()=>em("All"),onRelayout:e=>{if(!("xaxis.range[0]"in e&&"xaxis.range[1]"in e))return;let[n,t]=[e["xaxis.range[0]"],e["xaxis.range[1]"]].map(e=>e?new Date(e):void 0);n=n?u()(n).subtract(1,"month").toDate():n;let a=n||t?{start:n,end:t}:"All";em(a)},data:eS,useResizeHandler:!0,layout:{autosize:!0,barmode:"stack",showlegend:eI,hovermode:"x",legend:{x:.5,xanchor:"center",yanchor:"top",orientation:"h",traceorder:"normal"},xaxis:{tickfont:{size:14},titlefont:{size:14},tickformat:"%b '%y",gridcolor:eH},yaxis:{automargin:!0,gridcolor:eH,tickfont:{size:14},titlefont:{size:14},tickformat:ev?".0%":void 0,range:ev?[0,1.01]:void 0},paper_bgcolor:"rgba(0,0,0,0)",plot_bgcolor:"rgba(0,0,0,0)",margin:{t:0,r:0,b:40,l:0}},config:{displayModeBar:!1}})]}),(0,a.jsx)("div",{className:b().row,children:(0,a.jsxs)("details",{className:b().controls,children:[(0,a.jsxs)("summary",{children:[(0,a.jsx)("span",{className:b().settingsGear,children:"⚙"}),"️"]}),(0,a.jsxs)("div",{className:"".concat(b().dateControls," ").concat(f().control),children:[(0,a.jsx)("label",{className:f().controlHeader,children:"Dates"}),["1y","2y","3y","4y","5y","All"].map(e=>(0,a.jsx)("input",{type:"button",value:e,className:"".concat(b().dateRangeButton," ").concat(eh==e&&b().activeButton||b().inactiveButton),onClick:()=>em(e)},e))]}),(0,a.jsx)(k,{label:"Region",data:T.map(e=>({name:e,data:e,checked:eo.includes(e)})),cb:el}),(0,a.jsx)(M,{label:"Stack by",options:["None","Region","User Type",{label:ei(1),data:"Gender"},{label:es(1),data:"Rideable Type"}],cb:K,choice:$}),(0,a.jsxs)("div",{className:f().control,children:[(0,a.jsx)(_,{label:"12mo avg",checked:ep.includes(12),cb:e=>ex(e?[12]:[])}),(0,a.jsx)(_,{label:"Legend",checked:eI,cb:ey}),(0,a.jsx)(_,{label:"Stack %",checked:ee,cb:en})]}),(0,a.jsx)(M,{label:"Y Axis",options:["Rides",{label:"Minutes",data:"Ride minutes"}],cb:y,choice:g}),(0,a.jsx)(k,{label:"User Type",data:U.map(e=>({name:e,data:e,checked:v.includes(e)})),cb:Z}),(0,a.jsx)(k,{label:ei(2),data:[{name:"Men",data:"Men",checked:er.includes("Men")},{name:"Women",data:"Women",checked:er.includes("Women")},{name:"Unknown",data:"Unknown",checked:er.includes("Unknown")}],cb:ec}),(0,a.jsx)(k,{label:es(2),data:[{name:"Classic",data:"Classic",checked:ed.includes("Classic")},{name:"Electric",data:"Electric",checked:ed.includes("Electric")},{name:"Unknown",data:"Unknown",checked:ed.includes("Unknown")}],cb:eu})]})}),(0,a.jsx)("hr",{}),(0,a.jsx)("div",{className:"no-gutters row ".concat(b().row),children:(0,a.jsxs)("div",{className:"col-md-12",children:[(0,a.jsx)("p",{children:'Expand the "⚙️" to filter or stack by region, user type, gender, bike type, or date, or toggle aggregation of rides or total ride minutes.'}),(0,a.jsx)("h4",{children:"Examples"}),(0,a.jsxs)("ul",{children:[(0,a.jsx)("li",{children:(0,a.jsx)(X(),{href:"/?r=jh&s=r",children:"JC + Hoboken"})}),(0,a.jsxs)("li",{children:[(0,a.jsx)(X(),{href:"/?y=m&s=g&pct=&g=mf&d=1406-2102",children:"Ride minute %'s, Men vs. Women"}),", Jun 2014 – January 2021"]}),(0,a.jsx)("li",{children:(0,a.jsx)(X(),{href:"/?s=u&pct=",children:"Annual vs. daily user %'s"})}),(0,a.jsx)("li",{children:(0,a.jsx)(X(),{href:"/?y=m&s=b&rt=ce",children:"Classic / E-bike ride minutes"})}),(0,a.jsx)("li",{children:(0,a.jsx)(X(),{href:"/",children:"Default view (system-wide rides over time)"})})]}),(0,a.jsxs)("p",{children:["This plot should refresh when ",(0,a.jsx)("a",{href:"https://www.citibikenyc.com/system-data",target:"_blank",children:"new data is published by Citi Bike"})," (typically around the 2nd week of each month, covering the previous month)."]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("a",{href:"https://github.com/neighbor-ryan/ctbk.dev",target:"_blank",children:"The GitHub repo"})," has more info as well as ",(0,a.jsx)("a",{href:"https://github.com/neighbor-ryan/ctbk.dev/issues",target:"_blank",children:"planned enhancements"}),"."]}),(0,a.jsx)("hr",{}),(0,a.jsx)("h3",{id:"map",children:"Map: Stations + Common Destinations"}),(0,a.jsxs)("p",{children:["Check out ",(0,a.jsxs)(X(),{href:"./stations",children:["this map visualization of stations and their ridership counts in ",x]}),"."]}),(0,a.jsx)("a",{href:"./stations",children:(0,a.jsx)("img",{className:b().map,src:"screenshots/ctbk-stations.png",alt:"Map of stations in Jersey City, sized by ridership, and showing connections to other stations"})}),(0,a.jsx)("hr",{}),(0,a.jsx)("h3",{id:"qc",children:"\uD83D\uDEA7 Data-quality issues \uD83D\uDEA7"}),(0,D.ZP)('\nSeveral things changed in February 2021 (presumably as part of [the Lyft acquisition](https://www.lyft.com/blog/posts/lyft-becomes-americas-largest-bikeshare-service)):\n- "Gender" information is no longer provided:\n  - All rides are labeled "unknown" starting February 2021\n  - [Here\'s an example showing the available data](?y=m&s=g&pct=&g=mf&d=1406-2102)\n- A new "Rideable Type" field was added, containing values `docked_bike` and `electric_bike` \uD83C\uDF89; however, [it currently only shows ebike data from June 2021](?y=m&s=b&rt=ce)\n- The "User Type" values changed ("Annual" → "member", "Daily" → "casual"); I\'m using the former/old values here, they seem equivalent.\n                    '),(0,a.jsxs)("div",{className:b().footer,children:["Code: ",eB("gh","https://github.com/neighbor-ryan/ctbk.dev#readme","GitHub logo"),"Data: ",eB("s3","https://s3.amazonaws.com/ctbk/index.html","Amazon S3 logo"),"Author: ",eB("twitter","https://twitter.com/RunsAsCoded","Twitter logo")]})]})})]})]})}},79853:function(e,n,t){"use strict";t.d(n,{Z:function(){return l}});var a=t(85893);t(67294);var o=t(31606);let i="https://ctbk.dev",s="".concat(i,"/screenshots");function l(e){let{title:n,description:t,path:l,thumbnail:r}=e;return(0,a.jsxs)(o.F,{title:n,description:t,url:"".concat(i,"/").concat(l||""),thumbnail:"".concat(s,"/").concat(r,".png"),children:[(0,a.jsx)("meta",{name:"twitter:card",content:"summary"},"twcard"),(0,a.jsx)("meta",{name:"twitter:creator",content:"RunsAsCoded"},"twhandle"),(0,a.jsx)("meta",{property:"og:site_name",content:"ctbk.dev"},"ogsitename")]})}},2290:function(){},65999:function(e){e.exports={container:"index_container__Xi8tY",row:"index_row__6VrNw",button:"index_button__g8ljY",main:"index_main__3wZvj",map:"index_map__orGVi",titleContainer:"index_titleContainer__OGED6",title:"index_title__RIjyU",subtitle:"index_subtitle__7ZcxE",controls:"index_controls__KdiaJ",settingsGear:"index_settingsGear__GmMwD",plotSection:"index_plotSection__qdLGq",plotChildren:"index_plotChildren__UH_18",mid:"index_mid__xHhVU",warning:"index_warning__vb4p2",tooltip:"index_tooltip__Mg2W_",dateControls:"index_dateControls__ngyNj","date-range":"index_date-range__F6Zp8",dateRangeButton:"index_dateRangeButton__bG82_",activeButton:"index_activeButton__8c8dV",inactiveButton:"index_inactiveButton__3uy5U",plotWrapper:"index_plotWrapper__dKWWY",hidden:"index_hidden__ihuWw",fallback:"index_fallback__r2U6p",plotly:"index_plotly__UNxAh",footer:"index_footer__JKxwI",icon:"index_icon__CgRrC"}},52935:function(e){e.exports={control:"controls_control__HMu3o",nowrap:"controls_nowrap__QtWwW",controlHeader:"controls_controlHeader__esdEV",subControl:"controls_subControl__ud5NN",checkbox:"controls_checkbox__9tzHR"}},75410:function(){},48628:function(){},31601:function(){},67792:function(){},34977:function(){},75042:function(){},18685:function(){},20067:function(){},55382:function(){},72095:function(){},72061:function(){},61219:function(){}},function(e){e.O(0,[662,885,599,849,524,412,864,904,723,974,132,72,770,774,888,179],function(){return e(e.s=48312)}),_N_E=e.O()}]);